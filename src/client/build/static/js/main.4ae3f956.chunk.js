(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{99:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),o=n(17),r=n.n(o),i=n(48),l=n(49),s=n(53),u=n(52),h=n(125),d=n(119),j=n(122),p=n(126),x=n(123),m=n(124),b=n(121),y=n(127),O=n(15),g=n.n(O),f=n(50),k=n(2),C=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).state={calcResult:"",operation:"",x:"",y:"",display:"",history:[]},t.socket=Object(f.io)("http://localhost:8080",{reconnectionDelay:1e3,reconnection:!0,reconnectionAttemps:10,transports:["websocket"],agent:!1,upgrade:!1,rejectUnauthorized:!1}),t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.socket.on("history_update",(function(e){console.log("New History: ",e),g.a.isArray(e.history)&&t.setState((function(t){return{history:e.history}}))})),this.socket.on("connection",(function(t){console.log(t)}))}},{key:"handleNumber",value:function(t){console.log("".concat(t)),this.state.operation?this.state.calcResult?(this.setState((function(e){return{x:"".concat(t),display:"".concat(t),y:"",operation:"",calcResult:""}})),console.log("Adding to Y")):(this.setState((function(e){return{y:"".concat(e.y).concat(t),display:"".concat(e.x," ").concat(e.operation," ").concat(e.y).concat(t)}})),console.log("Adding to Y")):(this.setState((function(e){return{x:"".concat(e.x).concat(t),display:"".concat(e.x).concat(t)}})),console.log("Adding to X"))}},{key:"handleOp",value:function(t){if(console.log("".concat(t)),this.state.operation){var e=this.state.calcResult?this.state.calcResult+"":this.evaluateCalculation();this.setState((function(n){return{x:e,y:"",operation:"".concat(t),calcResult:"",display:"".concat(e," ").concat(t)}}))}else this.setState((function(e){return{operation:"".concat(t),display:"".concat(e.x," ").concat(t)}}))}},{key:"clearCalc",value:function(){this.setState((function(t){return{x:"",y:"",operation:"",calcResult:"",display:"0"}})),console.log("Clearing all")}},{key:"validate_equation",value:function(){var t=this.state.operation||"",e=this.state.x||"",n=this.state.y||"";function c(t){return!isNaN(parseFloat(t))&&isFinite(t)}return!!(c(e)&&c(n)&&g.a.includes("/*-+",t))}},{key:"evaluateCalculation",value:function(){if(!this.validate_equation())return!1;var t=this.state.operation||"",e=g.a.toNumber(this.state.x),n=g.a.toNumber(this.state.y),c=NaN;return g.a.isEqual("+",t)?c=e+n:g.a.isEqual("-",t)?c=e-n:g.a.isEqual("*",t)?c=e*n:g.a.isEqual("/",t)&&(c=e/n),!g.a.isNaN(c)&&(this.setState((function(t){return{calcResult:"".concat(c),display:"".concat(t.x," ").concat(t.operation," ").concat(t.y," = ").concat(c)}})),this.socket.emit("new_operation",{op:t,x:e,y:n,result:c}),c)}},{key:"render",value:function(){var t=this,e=this.props.classes;return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsxs)(d.a,{className:e.calculatorKeys,container:!0,spacing:1,children:[Object(k.jsx)(d.a,{container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsx)(a.a.Fragment,{children:Object(k.jsx)(b.a,{className:e.display,children:this.state.display||0})})}),Object(k.jsx)(d.a,{className:e.calRow,container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("1")},children:"1"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("2")},children:"2"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("3")},children:"3"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleOp("-")},children:"-"})]})}),Object(k.jsx)(d.a,{className:e.calRow,container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("4")},children:"4"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("5")},children:"5"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("6")},children:"6"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleOp("+")},children:"+"})]})}),Object(k.jsx)(d.a,{className:e.calRow,container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("7")},children:"7"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("8")},children:"8"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("9")},children:"9"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleOp("*")},children:"*"})]})}),Object(k.jsx)(d.a,{className:e.calRow,container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleNumber("0")},children:"0"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.clearCalc()},children:"C"}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.evaluateCalculation()},children:"="}),Object(k.jsx)(j.a,{color:"primary",onClick:function(){return t.handleOp("/")},children:"/"})]})})]}),Object(k.jsx)(d.a,{container:!0,item:!0,xs:12,spacing:1,children:Object(k.jsx)(a.a.Fragment,{children:Object(k.jsx)(d.a,{item:!0,xs:12,children:Object(k.jsx)(p.a,{children:Object(k.jsx)(x.a,{children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"History"}),Object(k.jsx)(y.a,{rowsMax:11,"aria-label":"maximum height",placeholder:"History",value:this.state.history.join("\r\n")})]})})})})})})]})}}]),n}(a.a.Component),N=Object(h.a)((function(t){return{root:{flexGrow:1,alignContent:"center",marginInline:"auto",marginTop:40},calculatorKeys:{flexGrow:1,alignContent:"center",marginInline:"auto",marginTop:40,maxWidth:"40%"},calRow:{flexFlow:"nowrap"},display:{flexGrow:1,alignContent:"center",marginInline:"auto",textAlign:"center",textAlignLast:"center",backgroundColor:"gainsboro",padding:2}}}))(C),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),o(t),r(t)}))};r.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(N,{})}),document.getElementById("root")),v()}},[[99,1,2]]]);
//# sourceMappingURL=main.4ae3f956.chunk.js.map